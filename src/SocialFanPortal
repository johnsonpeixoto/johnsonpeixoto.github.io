function loadPatterns(n){(n==null||n==undefined||n=="")&&(n=document);$.datepicker!==null&&$.datepicker!=undefined&&$(".datepicker",n).datepicker($.datepicker.regional["pt-BR"]);setMask(n);$("input[data-val-length-max]",n).each(function(){var n=$(this),t=n.data();n.attr("maxlength",t.valLengthMax)});$('select[readonly="readonly"], select[readonly="true"]',n).css("pointer-events","none");$('[data-toggle="tooltip"]',n).tooltip();$('[data-toggle="popover"]',n).popover();$.fn.select2!==null&&$.fn.select2!==undefined&&renderSelect2(n)}function lockContent(){return'<div id="screenloader"><h4 id="screenloadertext"><img src="'+rootPath+'Content/img/loader.png" class="fa fa-spin" style="width:24px; height:24px;" id="progressicon" /> <span id=\'progresstext\'>Carregando... Por favor aguarde.<\/span><\/h4><\/div>'}function renderSelect2(n){$("select.select2",n).each(function(){var n=$(this),f=$(this).attr("id"),r,t,u,i;if(n.removeClass("select2"),r=n.data("url"),r!==undefined&&r!==""){if(t=n.data("parent-id"),t!==undefined&&t!==""?renderNestedSelect2(n):(u={language:"pt-BR",ajax:{url:r,dataType:"json"},createTag:function(n){return{id:n.term,text:n.term,isNew:!0}}},n.select2(u)),t!==undefined&&t!=="")$("#"+t).on("change",function(){var i=$("#"+t).val();n.prop("disabled",!0);n.data("preselectedvalue","");n.data("parent-value",i);n.html("");n.val(null).trigger("change");n.select2("destroy");n.prop("disabled",!1);renderNestedSelect2(n)});i=n.data("preselectedvalue");i!==undefined&&i!==null&&i!==""&&i!==0&&$.ajax({type:"GET",url:r,data:{Id:i}}).then(function(t){if(t.results.length){var i=$.map(t.results,function(t){var i=new Option(t.text,t.id,!0,!0);n.append(i)});n.trigger("change");n.trigger({type:"select2:select",params:{data:t}})}})}else n.select2({language:"pt-BR"})})}function renderNestedSelect2(n){var t=n.data("url"),u=n.data("parent-property"),i=n.data("parent-value"),r;i!==undefined&&i!==""&&(t=t+"?"+u+"="+i);r={language:"pt-BR",ajax:{url:t,dataType:"json"},createTag:function(n){return{id:n.term,text:n.term,isNew:!0}}};n.select2(r)}function setupIntlTelInput(n,t,i,r,u){var f=$(n),o=$(t),s=$(i),c=f.data("countrycode"),e,h;window.intlTelInput(n,{formatOnDisplay:!0,preferredCountries:["BR"],initialCountry:c,nationalMode:!0,separateDialCode:!0,utilsScript:u});e=function(){handlePhoneRemoteMask(f,r)};h=function(){var t=window.intlTelInputGlobals.getInstance(n),i=t.getSelectedCountryData().iso2;$(n).data("countrycode",i);o.val(i);s.val(t.getNumber())};e.call();window.intlTelInputGlobals.getInstance(n).setNumber(s.val());n.addEventListener("change",h);n.addEventListener("countrychange",function(){var i=window.intlTelInputGlobals.getInstance(n),t=i.getSelectedCountryData().iso2;f.data("countrycode",t);o.val(t);e.call()})}function handlePhoneRemoteMask(n,t){var i=function(t){var i,r;(t===undefined||t===null)&&(t="");i=t.replace(/[a-z]/g,"").replace(/[0-9]/g,"0");i===""&&(i="00000000000000000000");r=$(n).data("old-custom-mask");i!==r&&($(n).data("old-custom-mask",i),$(n).unmask(),r!==undefined&&$(n).val(""));$(n).mask(i)},r=$(n).data("countrycode"),u={phoneType:t,country:r};sendAjaxGet(rootPath+"Person/GetPhoneExampleNumber",u,null,i,function(){$(n).mask("0#")})}function sfnPortalGenerateAndPrintBilletByParcel(n){var t="ParcelGuid="+n,i=function(){modalWarning("Emissão de Boletos","Desculpe-nos mas ocorreu um erro na geração do boleto desta parcela. Por favor entre em contato com a central de atendimento.")},r=function(n){var r,u;if(!n.success){modalWarning("Emissão de Boletos",n.message);return}if(n.model.length===1)return sfnPortalPrintBilletByGuid(n.model[0].Billet.BilletGuid);n.model.length>1&&(r=function(){var n=MvcGridGetSelectedValues("grdBilletsByParcel");return closeModalQuickly(),sfnPortalPrintBilletByGuid(n)},modalUrl(rootPath+"Boleto/ShowBilletsByParcelSelectionForm",t,"Emissão de Boleto","Selecionar",r,null));n.model.length===0&&(u=function(n){if(n.success)return sfnPortalPrintBilletByGuid(n.model.BilletGuid);modalWarning("Emissão de Boletos",n.message)},sendAjaxPost(rootPath+"Boleto/GenerateBilletByParcel",t,null,u,i))};sendAjaxPost(rootPath+"Boleto/GetBilletsByParcel",t,null,r,i)}function sfnPortalPrintBilletByGuid(n){modalSuccess("Emissão de Boletos","<h4>Boleto emitido com sucesso.<\/h4> <small>Atenção, o boleto foi exibido em uma nova janela. Caso não tenha visualizado certifique-se de autorizar pop-ups para este site.<\/small>");window.open(rootPath+"Boleto/Visualizar?BilletGuid="+n)}function sfnShowParcelLiquidationForm(n,t){var i="ParcelGuid="+n,r=function(n){if(closeModal(),n.success){modalBoolean(!0,"Pagamento de Parcela","Pagamento da parcela realizado com sucesso.");try{reloadFinanceIndex()}catch(i){MvcGridReload(t,null);MvcGridReload("grdPaidParcelsByPlan",null)}}},u=function(n){closeModalQuickly();modalWarning("Pagamento de Parcela",n.message,null,ModalSizeEnum.MEDIUM,null)},f=function(){submitMvcAjaxForm("frmParcelLiquidation",null,r,u)};lockScreen();modalUrl(rootPath+"Financeiro/ShowParcelLiquidationForm",i,"Pagamento de Parcela","Realizar Pagamento",f,null,ModalSizeEnum.LARGE,function(){unlockScreen()})}function sfnShowExtraTaxParcelLiquidationForm(n,t,i,r){var u="ParcelGuid="+n,f=function(n){closeModal();n.success&&(modalBoolean(!0,"Pagamento da Parcela da "+i,"Pagamento realizado com sucesso.\n"+r),MvcGridReload(t,null),MvcGridReload("grdPaidParcelsByPlan",null))},e=function(n){closeModalQuickly();modalWarning("Pagamento da Parcela da "+i,n.message,null,ModalSizeEnum.MEDIUM,null)},o=function(){submitMvcAjaxForm("frmParcelLiquidation",null,f,e)};lockScreen();modalUrl(rootPath+"Financeiro/ShowParcelLiquidationForm",u,"Pagamento da Parcela da "+i,"Realizar Pagamento",o,null,ModalSizeEnum.LARGE,function(){unlockScreen()})}function sfnShowQuickBillLiquidationForm(n,t){var i=function(n){closeModal();n.success&&(modalBoolean(!0,"Realizar Pagamento","Pagamento integral da conta efetuado com sucesso"),showUrlInContainer(rootPath+"Control/FinanceIndex",{Id:t},"tabFinance","tabFinance",function(){loadPatterns("#tabFinance")}))},r=function(n){closeModalQuickly();modalWarning("Realizar Pagamento",n.message,null,ModalSizeEnum.MEDIUM,null)},u=function(){submitMvcAjaxForm("frmQuickBillLiquidation",null,i,r)};lockScreen();modalUrl(rootPath+"Financeiro/ShowBillLiquidationForm","billGuid="+n,"Baixar Conta","Realizar Pagamento",u,null,ModalSizeEnum.LARGE,function(){unlockScreen()})}function sfnShowBillLiquidationForm(n){var t=function(n){closeModal();n.success&&(modalBoolean(!0,"Realizar Pagamento","Pagamento integral da conta efetuado com sucesso"),reloadFinanceIndex())},i=function(n){closeModalQuickly();modalWarning("Realizar Pagamento",n.message,null,ModalSizeEnum.MEDIUM,null)},r=function(){submitMvcAjaxForm("frmQuickBillLiquidation",null,t,i)};lockScreen();modalUrl(rootPath+"Financeiro/ShowBillLiquidationForm","billGuid="+n,"Baixar Conta","Realizar Pagamento",r,null,ModalSizeEnum.LARGE,function(){unlockScreen()})}function finChangeLiquidationPayModeType(n,t,i,r){$("a.payModeType").removeClass("active").removeClass("bold");$(n).addClass("active").addClass("bold");var u=rootPath+"Financeiro/ShowPayModePicker",f="PayModeType="+i+"&PersonId="+r;return showUrlInContainer(u,f,"pymPicker","pymPicker",function(){finChangeLiquidationPayMode(null,t,r,"")}),!1}function finChangeLiquidationPayMode(n,t,i,r){var u,f,e;if(n!==null&&($("a.payMode").removeClass("active").removeClass("bold"),$(n).addClass("active").addClass("bold"),u=$("#pymContainer").data("paymodeguid"),u===t))return!1;f=rootPath+"Financeiro/ShowPayModeHandler";e="PayModeGuid="+t+"&PersonId="+i+"&PaymentGuid="+r;showUrlInContainer(f,e,"pymContainer","pymContainer",function(){$("#pymContainer").data("paymodeguid",t)})}function sfnShowDefaultCCPaymentForm(n,t){var i=function(n){n.success===!0&&(closeModal(),modalBoolean(n.success,"Alterar Cartão Padrão para Cobrança",n.message),t!=null&&t!=undefined&&reloadFinanceIndex())},r=function(n){closeModal();modalBoolean(n.success,"Alterar Cartão Padrão para Cobrança",n.message)},u=function(){var n=MvcGridGetSelectedValues("grdCreditCard");$("#SelectedPaymentGuid").val(n);submitMvcAjaxForm("frmDefaultCCPayment","frmDefaultCCPayment",i,r)},f="BillGuid="+n;modalUrl(rootPath+"Financeiro/ShowDefaultCCPaymentForm",f,"Alterar Cartão Padrão para Cobrança","Confirmar",u,null,ModalSizeEnum.LARGE)}function sfnPortalShowCurrentStatementContent(){var n=function(){window.open(rootPath+"Termos/ImprimirRegulamento");modalInfo("Imprimir Termo de Aceite","O conteúdo do termo foi aberto em uma nova janela. Caso não tenha visualizado verifique o bloqueio de pop-ups de seu navegador.")};return modalUrl(rootPath+"Termos/ShowActiveStatementContent",null,"Termo de Aceite","Imprimir",n,null,ModalSizeEnum.LARGE,null,null)}function CheckAcceptForCurrentPrivacyPolicyStatement(){var n=function(n){n.success&&$("#divCookieStatementContainer").remove()};sendAjaxGet(rootPath+"Home/CheckAcceptForCurrentPrivacyPolicyStatement",null,null,n,null)}function sfnPortalPrintTicket(n){window.open(n,"_blank")}function sfnPortalOpenCheckinIndividualConfirmation(n,t,i){var u=function(n){unlockScreen();modalBoolean(n.success,"Registrar Check-In",n.message);n.success&&i!=null&&MvcGridReload(i,null);showUrlInContainer(rootPath+"Control/ShowMyCheckinsTab",r,"divMyCheckinsTab",null,null)},f=function(n){unlockScreen();modalBoolean(!1,"Registrar Check-In",n.message)},e=function(){submitMvcAjaxForm("frmCheckinConfirmation",null,u,f);closeModalQuickly();lockScreen()},r={CheckinGuid:n,FanGuid:t};modalUrl(rootPath+"Control/ShowSingleCheckinForm",r,"Realizar Check-in","Confirmar",e,null,ModalSizeEnum.MEDIUM)}function sfnPortalOpenCheckinWithTicketReservation(n,t,i){var r=function(n){closeModalQuickly();modalBoolean(n.success,"Registrar Check-In",n.message);n.success&&i!=null&&MvcGridReload(i,null)},u=function(n){closeModalQuickly();modalBoolean(n.success,"Registrar Check-In",n.message)},f=function(){submitMvcAjaxForm("frmCheckinConfirmation",null,r,u)},e={CheckinGuid:n,FanGuid:t};modalUrl(rootPath+"Control/ShowSingleI2MICheckinForm",e,"Realizar Check-in com reserva de Ingresso","Confirmar",f,null,ModalSizeEnum.LARGE)}function sfnPortalCancelCheckinWithTicketReservation(n,t,i){var r=function(n){closeModalQuickly();modalBoolean(n.success,"Cancela Check-in com reserva de Ingresso",n.message)},u=function(n){closeModalQuickly();modalBoolean(n.success,"Cancela Check-in com reserva de Ingresso",n.message);n.success&&i!=null&&MvcGridReload(i,null)},f="CheckinGuid="+n+"&FanGuid="+t,e=function(){closeModalQuickly();sendAjaxPost(rootPath+"Control/Cancel2miCheckinReservation",f,null,u,r)};modalYesNo("Confirmar Ausência e Cancelar Ingresso","Deseja realmente confirmar a ausência e cancelar a reserva de ingresso para o evento?",e,null)}function sfnPortalOpenCheckinTaxRechargeConfirmation(n,t,i){var r=function(n){closeModalQuickly();n.success&&sfnShowExtraTaxParcelLiquidationForm(n.model.parcelGuid,i,n.model.taxLabel,n.model.taxMessage)},u=function(n){closeModalQuickly();modalBoolean(n.success,"Recarga de Ingresso",n.message)},f=function(){submitMvcAjaxForm("frmCheckinTaxRechargeConfirmation",null,r,u)},e={CheckinGuid:n,FanGuid:t};modalUrl(rootPath+"Control/ShowSingleCheckinTaxRechargeForm",e,"Recarga de Ingresso","Confirmar",f,null,ModalSizeEnum.LARGE)}function sfnPortalCheckinAbsenceConfirmation(n,t,i){var u=function(n){unlockScreen();modalBoolean(n.success,"Não Vou Pro Jogo",n.message)},f=function(n){unlockScreen();modalBoolean(n.success,"Não Vou Pro Jogo",n.message);n.success&&i!=null&&MvcGridReload(i,null);showUrlInContainer(rootPath+"Control/ShowMyCheckinsTab",r,"divMyCheckinsTab",null,null)},r="CheckinGuid="+n+"&FanGuid="+t;console.log("sfnPortalCheckinAbsenceConfirmation => "+r);sendAjaxPost(rootPath+"Control/SaveSingleCheckinAbsence",r,null,f,u);lockScreen()}function sfnRenewAffiliationPlan(n){lockScreen();window.location=rootPath+"Renovar/Index?Id="+n}function sfnCheckForAddingDependents(n){var t="guid="+n,i=rootPath+"InclusaoDependente/CheckCanStartProcess",r=function(){closeModalQuickly();checkAngGo(i,t,"Inclusão de Dependentes",null,null)};modalYesNo("Inclusão de Dependentes","Deseja incluir novos dependentes em sua associação?",r,null)}function sfnShowFanPhotoUploadForm(n,t){var i=function(n){n.success&&(closeModalQuickly(),reloadFanPicture(t))},r=function(){submitMvcAjaxFormAsJson("frmPhotoSave",null,i,null)},u=function(){sendAjaxPost(rootPath+"Control/DeleteFanTempPhoto",{guid:t},"pnlFanPicture",null,null);closeModal()};modalUrl(rootPath+"Control/ShowFanPhotoUploadForm",{guid:t},n,"Salvar",r,u,ModalSizeEnum.LARGE)}function sfnShowFanPhotoWebcamForm(n,t){var i={fanGuid:t},r=function(n){n.success&&(camera.stop(),camera.disableJCrop(),closeModalQuickly(),reloadFanPicture())},u=function(){camera.stop();camera.disableJCrop();closeModalQuickly()},f=function(){camera.getImage();submitMvcAjaxFormAsJson("frmPhotoWebcamSave",null,r,u)},e=function(){camera.stop();camera.disableJCrop();closeModal()};modalUrl(rootPath+"Control/ShowFanPhotoWebcamForm",i,n,"Salvar",f,e,ModalSizeEnum.LARGE)}function sfnDeleteFanUrlPicture(n){var t=function(){reloadFanPicture(n)},i={guid:n};sendAjaxGet(rootPath+"Control/DeleteFanUrlPicture",i,null,t,null)}function sfnUpdateQuestionView(n){$("#collapse"+n).hasClass("collapse in")||sendAjaxPost(rootPath+"Home/UpdateQuestionView","Guid="+n)}function acceptModalCookies(){sendAjaxPost(rootPath+"Home/AcceptPrivacyPolicyCookie")}var screenLocked=!1;jQuery(document).ready(function(){$.datepicker!=null&&$.datepicker!=undefined&&($.datepicker.regional["pt-BR"]={closeText:"Fechar",prevText:"M&ecirc;s Anterior",nextText:"Pr&oacute;ximo M&ecirc;s",currentText:"Hoje",monthNames:["Janeiro","Fevereiro","Mar&ccedil;o","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],monthNamesShort:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],dayNames:["Domingo","Segunda-feira","Ter&ccedil;a-feira","Quarta-feira","Quinta-feira","Sexta-feira","S&aacute;bado"],dayNamesShort:["Dom","Seg","Ter","Qua","Qui","Sex","S&aacute;b"],dayNamesMin:["Dom","Seg","Ter","Qua","Qui","Sex","S&aacute;b"],weekHeader:"Sm",dateFormat:"dd/mm/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:"",beforeShow:function(n){if($(n).attr("readonly"))return!1}},$.datepicker.setDefaults($.datepicker.regional["pt-BR"]));loadPatterns(document)});$(document).ajaxComplete(function(n,t){try{var i=$.parseJSON(t.responseText);i!=null&&i.Redirect!=null&&(alert("Sua sessão expirou!"),window.Location=i.Redirect,$(document).load(),location.reload(!0))}catch(r){loadPatterns()}})